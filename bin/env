#!/usr/bin/env bash

# Oh-My-Emacs
# export OME_BIN=$(dirname $(readlink -f $0))
# export OME_ROOT=$OME_BIN/..

export OME_ROOT=$HOME/.oh-my-emacs
export OME_BIN=$OME_ROOT/bin
export PATH=$OME_BIN:$PATH

export DEV_ROOT=$HOME/.dev

export CACHE=$OME_ROOT/cache
export APP_HOME=$CACHE/apps
export ZIP_HOME=$CACHE/apps-zip

# Shell
export SHELL_NAME=ps |  grep $$  |  awk '{print $4}'

# User Settings
export PATH=$HOME/bin:$HOME/.local/bin:$PATH

################################################################################
# Ocaml: OPAM configuration
case "$SHELL_NAME" in
	"zsh")
		. $HOME/.opam/opam-init/init.zsh > /dev/null 2> /dev/null || true
		;;
	"bash")
		. $HOME/.opam/opam-init/init.sh > /dev/null 2> /dev/null || true
		;;
	"csh")
		. $HOME/.opam/opam-init/init.csh > /dev/null 2> /dev/null || true
		;;
esac

# Roswell
export ROSWELL_BIN=/home/`whoami`/.roswell/bin
export PATH=$ROSWELL_BIN:$PATH

# ROS
case "$SHELL_NAME" in
	"zsh")
		source /opt/ros/kinetic/env.zsh
		source $HOME/catkin_ws/devel/env.zsh
		;;
	"bash")
		source /opt/ros/kinetic/env.bash
		source $HOME/catkin_ws/devel/env.bash
		;;
esac
export PATH=$PATH:$HOME/catkin_ws/bin

# Cyberman
export PATH=$HOME/Cyberman:$PATH
################################################################################
# Cpp: cquery
export CQUERY_BIN=$HOME/.cquery
export PATH=$CQUERY_BIN:$PATH

# Nodejs
# if ! command -v nvm >/dev/null 2>&1; then
	# export NVM_DIR="$HOME/.nvm"
	# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
	# [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
# fi

# Golang
export GOROOT=/usr/lib/go
export GOPATH=$HOME/goprojects
export PATH=$PATH:$GOPATH/bin

# Rust
# [ -s "$HOME/.cargo/env" ] && \. "$HOME/.cargo/env"
if [ -e $HOME/.cargo/env ]; then
	source $HOME/.cargo/env
	export RUST_SRC_PATH="$(rustc --print sysroot)/lib/rustlib/src/rust/src"
fi

# Nim-lang
export PATH=$HOME/.nimble/bin:$PATH

# Erlang
export PATH=$DEV_ROOT/erlang_otp/bin:$PATH

# Elixir
export PATH=$DEV_ROOT/elixir/bin:$PATH

# mu4e
export PATH=$HOME/.mu/bin:$PATH
################################################################################

# CURRENT_DIR=$(dirname $(readlink -f $0))
# echo $CURRENT_DIR
source lib
